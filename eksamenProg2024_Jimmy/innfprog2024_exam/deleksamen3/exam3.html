<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam </title>
    <link href="exam3.css" rel="stylesheet" media="all">
</head>
<body>
    <main>
        <h1>Fargepaletten</h1>
        <canvas id="colorspace"></canvas>
        <nav>
            <button id="addColor">Legg till en farge</button>
            <button id="emptyArray">Tilbakestill fargene</button>
            <button id="generateAll">Generer 10 nye farger</button>
        </nav>
        <h2>Endre farger:</h2>
        <section>
            <p>Bytt ut fargen i rute <select id="colorSquareIndex">
                <option value="0">1</option>
                <option value="1">2</option>
                <option value="2">3</option>
                <option value="3">4</option>
                <option value="4">5</option>
                <option value="5">6</option>
                <option value="6">7</option>
                <option value="7">8</option>
                <option value="8">9</option>
                <option value="9">10</option>
            </select> med #<input type="text" id="newColor" /> <button id="saveNewColor">Lagre ny farge</button></p>
        </section>
    </main>
    

    <script>
        //Configure canvas
        const canvas = document.getElementById("colorspace")
        canvas.width = 1000
        canvas.height = 100
        const ctx = canvas.getContext("2d")

        /* --- YOUR FUNCTIONALITY AND CODE GOES HERE --- */
        /*Lager her en variabel som skal holde på antall klikk som blir trykket på knappen.*/
        let clickcount = 0;
    /* Minstekrav oppgave1:
    Har laget en funksjon som genererer en tilfeldig farge når knappen "legg til en farge"
    knappen blir trykket på. Her har jeg brukt github-copilot for å få hjelp til å løse oppgaven. 
    Se skjermdump i kildemappe. 
    */

    function getRandomHexColor() {
        const letters = '0123456789ABCDEF';
        let color = '#';
        for (let i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }

/*Minstekrav oppgave2: Tenkte at denne måtte løses ved hjelp av en if-test og 
at jeg måtte skrive til til knappen for at det skulle bli registrert antall klikk. Jeg hadde 
hørt om "clickcount" fra før, men visste ikke hvordan jeg skulle bruke den. Spurte chat-gpt om
kodehjelp, som genererte koden fra linje 66- 73 + 81-84. Byttet ut variablene for å få den til 
å passe koden jeg har her. Se skjermdump i kildemappe.*/
    document.getElementById("addColor").addEventListener(`click`,function(){
        clickcount++;

        if(clickcount >= 10){
            addColor.disabled = true;
            console.log("Du har nådd maks antall farger");
        }
    });


    /*Minstekrav oppgave3:
    Har lagt til en eventlistner som "lytter" etter om knappen blir trykket på.
    Hvis knappen blir trykket på så skal den kjøre funksjonen som er lagd ovenfor.
    Her har jeg brukt github-copilot for å hjelp til å løse oppgaven. Se skjermdump i kildemappe.
    */
    document.getElementById("addColor").addEventListener("click", () => {
        const randomColor = getRandomHexColor();
        console.log(randomColor);
    });














        //requestAnimationFrame
        const requestAnimationFrame = window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame
        function renderCanvas() {
            
            requestAnimationFrame(renderCanvas)
        }

        //Initial running of drawing canvas
        renderCanvas()
    </script>
</body>
</html>